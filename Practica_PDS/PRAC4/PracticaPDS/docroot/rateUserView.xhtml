<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:metadata>
	<f:viewParam name="idAd" value="#{rateUser.ad_id}" />
</f:metadata>


<ui:composition template="./headerView.xhtml">
	<ui:define name="content">
		<div id="content" class="content col-sm-8 offset-sm-2">
			<h:form>
				<div class="card">

					<div class="card-header bg-primary text-white mb-3">Rate User</div>
					<div class="card-body" style="padding: 0 1.25rem;">
						<div class="card-title">
							<h:outputLabel for="title">Name:</h:outputLabel>
							<h:outputText value=" " />
							<h:outputLabel styleClass="form-control-static">#{rateUser.dataAd.user.name}</h:outputLabel>
						</div>
						<div class="form-group">
							<h:outputLabel>Text</h:outputLabel>
							<h:inputText id="rate" name="rate" value="#{rateUser.rate}" styleClass="input-rate" style="display:none" /> 
							<h:inputTextarea type="text" styleClass="form-control animated" id="text" required="true" requiredMessage="Write a text" value="#{rateUser.text}" />
						</div>
						<div class="form-group">
							<div class="text-right">
								<div class="stars starrr" data-rating="0"></div>
							</div>
						</div>
						<div class="form-group row">
							<div class="offset-sm-2 col-sm-10  text-right">
								<h:commandButton styleClass="btn btn-primary" action="#{rateUser.rate(login.nif, rateUser.dataAd.user.nif, rateUser.text, rateUser.rate)}" value="Save"></h:commandButton>
								<h:outputText value=" " />
								<h:commandLink value="Return" styleClass="btn btn-danger" immediate="true" action="showAdView">
									<f:param name="adId" value="#{rateUser.dataAd.id}" />
								</h:commandLink>
							</div>
						</div>
					</div>

				</div>
			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>
